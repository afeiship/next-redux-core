!function(){var t=t||this||window||Function("return this")(),e=t.nx||require("next-js-core2"),i=["initState","dispatch","subscribe","getState"],s={GET_STATE:"You may not call store.getState() while the reducer is executing.",SUBSCRIBE:"You may not call store.subscribe() while the reducer is executing.",DISPATH:"Reducers may not dispatch actions."},n=e.declare("nx.ReduxCore",{statics:{create:function(t,s){var n=new this(t,s),r={};return n.dispatch({type:"@@redux/INIT"}),e.forEach(i,function(t){r[t]=n[t].bind(n)}),r}},methods:{init:function(t,e){this.currentReducer=t,this.currentState=e,this.currentListeners=[],this.nextListeners=currentListeners,this.isDispatching=!1},ensureCanMutateNextListeners:function(){this.nextListeners===this.currentListeners&&(this.nextListeners=this.currentListeners.slice())},initState:function(){this.dispatch({type:"@@redux/INIT"})},getState:function(){return this.isDispatching&&e.error(s.GET_STATE),this.currentState},subscribe:function(t){this.isDispatching&&e.error(s.SUBSCRIBE);var i=!0,n=this,r=this.nextListeners;return this.ensureCanMutateNextListeners(),r.push(t),{destroy:function(){if(i){i=!1,n.ensureCanMutateNextListeners();var e=r.indexOf(t);r.splice(e,1)}}}},dispatch:function(t){this.isDispatching&&e.error(s.DISPATH);var i,n=this;try{n.isDispatching=!0,n.currentState=n.currentReducer(this.currentState,t)}finally{n.isDispatching=!1}i=this.currentListeners=this.nextListeners;for(var r=0;r<i.length;r++){(0,i[r])()}}}});"undefined"!=typeof module&&module.exports&&(module.exports=n)}();